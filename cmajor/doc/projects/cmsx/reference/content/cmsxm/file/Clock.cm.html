<html>
 <head>
  <meta charset="utf-8"/>
  <title>cmsxm/Clock.cm</title>
  <link href="../../../style/style.css" rel="stylesheet" type="text/css"/>
 </head>
 <body>
  <span class="code" id="1" xml:space="preserve"><span class="lineNumber">&nbsp;1</span>&nbsp;<span class="kw">using</span>&nbsp;<span class="identifier">System</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="2" xml:space="preserve"><span class="lineNumber">&nbsp;2</span>&nbsp;<span class="kw">using</span>&nbsp;<span class="identifier">System.Threading</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="3" xml:space="preserve"><span class="lineNumber">&nbsp;3</span>&nbsp;</span>
  <br/>
  <span class="code" id="4" xml:space="preserve"><span class="lineNumber">&nbsp;4</span>&nbsp;<span class="kw">namespace</span>&nbsp;<span class="identifier">cmsx.machine</span></span>
  <br/>
  <span class="code" id="5" xml:space="preserve"><span class="lineNumber">&nbsp;5</span>&nbsp;<span class="other">{</span></span>
  <br/>
  <span class="code" id="6" xml:space="preserve"><span class="lineNumber">&nbsp;6</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">public</span>&nbsp;<span class="kw">class</span>&nbsp;<a href="../doc/class_ClockDriver_7A32EB7B656EC0697BC8BD6F352762645B0A6DD7.html">ClockDriver</a></span>
  <br/>
  <span class="code" id="7" xml:space="preserve"><span class="lineNumber">&nbsp;7</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">{</span></span>
  <br/>
  <span class="code" id="8" xml:space="preserve"><span class="lineNumber">&nbsp;8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">public</span>&nbsp;<a href="../doc/class_ClockDriver_7A32EB7B656EC0697BC8BD6F352762645B0A6DD7.html#constructor_ClockDriver_E4B98050ACFFDEC7FF79DC0354BA02551944E9DE">ClockDriver</a><span class="other">(</span><a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html">Clock</a><span class="other">&amp;</span>&nbsp;<span class="identifier">clock_</span><span class="other">)</span><span class="other">&nbsp;:&nbsp;</span><span class="identifier">clock</span><span class="other">(</span><span class="identifier">clock_</span><span class="other">)</span></span>
  <br/>
  <span class="code" id="9" xml:space="preserve"><span class="lineNumber">&nbsp;9</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">{</span></span>
  <br/>
  <span class="code" id="10" xml:space="preserve"><span class="lineNumber">10</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../doc/class_ClockDriver_7A32EB7B656EC0697BC8BD6F352762645B0A6DD7.html#variable_clock_3D2D9BBA30FA22D90853E264865309F054B7B00C">clock</a><span class="other">.</span><a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html#member_function_Start_Clock_59656F18CC1163418C354633F069E4BB8E5C4110">Start</a><span class="other">(</span><span class="other">)</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="11" xml:space="preserve"><span class="lineNumber">11</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">}</span></span>
  <br/>
  <span class="code" id="12" xml:space="preserve"><span class="lineNumber">12</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">public</span>&nbsp;<span class="other">~</span><a href="../doc/class_ClockDriver_7A32EB7B656EC0697BC8BD6F352762645B0A6DD7.html#destructor_ClockDriver_8E418ADC6D0C4E768879832AF0AD38CC71BFCE7B">ClockDriver</a><span class="other">(</span><span class="other">)</span></span>
  <br/>
  <span class="code" id="13" xml:space="preserve"><span class="lineNumber">13</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">{</span></span>
  <br/>
  <span class="code" id="14" xml:space="preserve"><span class="lineNumber">14</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../doc/class_ClockDriver_7A32EB7B656EC0697BC8BD6F352762645B0A6DD7.html#variable_clock_3D2D9BBA30FA22D90853E264865309F054B7B00C">clock</a><span class="other">.</span><a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html#member_function_Stop_Clock_380275200D6EB89BAE70C4929E7DA7FB8645BF81">Stop</a><span class="other">(</span><span class="other">)</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="15" xml:space="preserve"><span class="lineNumber">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">}</span></span>
  <br/>
  <span class="code" id="16" xml:space="preserve"><span class="lineNumber">16</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">private</span>&nbsp;<a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html">Clock</a><span class="other">&amp;</span>&nbsp;<span class="identifier">clock</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="17" xml:space="preserve"><span class="lineNumber">17</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">}</span></span>
  <br/>
  <span class="code" id="18" xml:space="preserve"><span class="lineNumber">18</span>&nbsp;</span>
  <br/>
  <span class="code" id="19" xml:space="preserve"><span class="lineNumber">19</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">public</span>&nbsp;<span class="kw">class</span>&nbsp;<a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html">Clock</a></span>
  <br/>
  <span class="code" id="20" xml:space="preserve"><span class="lineNumber">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">{</span></span>
  <br/>
  <span class="code" id="21" xml:space="preserve"><span class="lineNumber">21</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">public</span>&nbsp;<span class="kw">const</span>&nbsp;<span class="kw">long</span>&nbsp;<a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html#constant_tick_D290B4B90496A70F8575715C82AE1D33CA229C74">tick</a><span class="other">&nbsp;=&nbsp;</span><span class="number">50</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="22" xml:space="preserve"><span class="lineNumber">22</span>&nbsp;</span>
  <br/>
  <span class="code" id="23" xml:space="preserve"><span class="lineNumber">23</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">static</span>&nbsp;<a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html#static_constructor_Clock_E51702C8DB2E8B2672EE5DF7F58D53DAA3C32A54">Clock</a><span class="other">()</span><span class="other">&nbsp;:&nbsp;</span><span class="identifier">instance</span><span class="other">(</span><span class="kw">new</span>&nbsp;<span class="identifier">Clock</span><span class="other">(</span><span class="other">)</span><span class="other">)</span></span>
  <br/>
  <span class="code" id="24" xml:space="preserve"><span class="lineNumber">24</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">{</span></span>
  <br/>
  <span class="code" id="25" xml:space="preserve"><span class="lineNumber">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">}</span></span>
  <br/>
  <span class="code" id="26" xml:space="preserve"><span class="lineNumber">26</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">public</span>&nbsp;<span class="kw">static</span>&nbsp;<a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html">Clock</a><span class="other">&amp;</span>&nbsp;<a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html#member_function_Instance_Clock_FB2D24DA9602C1E7131AB4614510605B1A4586E4">Instance</a><span class="other">(</span><span class="other">)</span></span>
  <br/>
  <span class="code" id="27" xml:space="preserve"><span class="lineNumber">27</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">{</span></span>
  <br/>
  <span class="code" id="28" xml:space="preserve"><span class="lineNumber">28</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">return</span>&nbsp;<span class="other">*</span><a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html#variable_instance_4F6D8E760A5288A7E9B639128E51EB36850608FB">instance</a><span class="other">;</span></span>
  <br/>
  <span class="code" id="29" xml:space="preserve"><span class="lineNumber">29</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">}</span></span>
  <br/>
  <span class="code" id="30" xml:space="preserve"><span class="lineNumber">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">private</span>&nbsp;<a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html#default_constructor_Clock_624D0B641D2A924A54A92323917426A5F6E28C98">Clock</a><span class="other">(</span><span class="other">)</span><span class="other">&nbsp;:&nbsp;</span><span class="identifier">machine</span><span class="other">(</span><a href="../doc/ns_cmsx.machine.html#function_GetMachine_0B03AB8A142B1755B31AEAAED7387A9CFD4FA796">GetMachine</a><span class="other">(</span><span class="other">)</span><span class="other">)</span></span>
  <br/>
  <span class="code" id="31" xml:space="preserve"><span class="lineNumber">31</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">{</span></span>
  <br/>
  <span class="code" id="32" xml:space="preserve"><span class="lineNumber">32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">}</span></span>
  <br/>
  <span class="code" id="33" xml:space="preserve"><span class="lineNumber">33</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">public</span>&nbsp;<span class="kw">void</span>&nbsp;<a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html#member_function_Start_Clock_59656F18CC1163418C354633F069E4BB8E5C4110">Start</a><span class="other">(</span><span class="other">)</span></span>
  <br/>
  <span class="code" id="34" xml:space="preserve"><span class="lineNumber">34</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">{</span></span>
  <br/>
  <span class="code" id="35" xml:space="preserve"><span class="lineNumber">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../../../../../system/content/System.Base/doc/ns_System.Threading.html#class_delegate_ThreadStartMethod_3044EADA25CA797E0DE0095ECAC529EAFE935B55">ThreadStartMethod</a>&nbsp;<span class="identifier">tickMethod</span><span class="other">&nbsp;=&nbsp;</span><span class="identifier">Tick</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="36" xml:space="preserve"><span class="lineNumber">36</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html#variable_thread_27F1D6737630648C947909A5018E401D9743E055">thread</a><span class="other">&nbsp;=&nbsp;</span><a href="../../../../../../system/content/System.Base/doc/class_Thread_805238682CDC09B4D1BB5C11ACA935F47C73BA4F.html">Thread</a><span class="other">.</span><a href="../../../../../../system/content/System.Base/doc/class_Thread_805238682CDC09B4D1BB5C11ACA935F47C73BA4F.html#member_function_StartMethod_Thread_1C5AAD053E97EAFC77EEFD07BFBE02FD06828987">StartMethod</a><span class="other">(</span><span class="identifier">tickMethod</span><span class="other">)</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="37" xml:space="preserve"><span class="lineNumber">37</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">}</span></span>
  <br/>
  <span class="code" id="38" xml:space="preserve"><span class="lineNumber">38</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">public</span>&nbsp;<span class="kw">void</span>&nbsp;<a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html#member_function_Stop_Clock_380275200D6EB89BAE70C4929E7DA7FB8645BF81">Stop</a><span class="other">(</span><span class="other">)</span></span>
  <br/>
  <span class="code" id="39" xml:space="preserve"><span class="lineNumber">39</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">{</span></span>
  <br/>
  <span class="code" id="40" xml:space="preserve"><span class="lineNumber">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html#variable_stopping_3ED00A19A5D14C9DBAD54B5FE85E32AB1324B9DA">stopping</a><span class="other">&nbsp;=&nbsp;</span><span class="kw">true</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="41" xml:space="preserve"><span class="lineNumber">41</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html#variable_stop_E501BB686FFF0D23338544597E1A22D4A64A01F1">stop</a><span class="other">.</span><a href="../../../../../../system/content/System.Base/doc/class_ConditionVariable_019A80625043CF98EC88D8F55238C84CFD4A9C26.html#member_function_NotifyOne_ConditionVariable_BE3C3197CF5FB80DF9EB333CE8D93F95A0A8D571">NotifyOne</a><span class="other">(</span><span class="other">)</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="42" xml:space="preserve"><span class="lineNumber">42</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html#variable_thread_27F1D6737630648C947909A5018E401D9743E055">thread</a><span class="other">.</span><a href="../../../../../../system/content/System.Base/doc/class_Thread_805238682CDC09B4D1BB5C11ACA935F47C73BA4F.html#member_function_Join_Thread_2321207B993A5A106E72F80F93CBAD2DA409A166">Join</a><span class="other">(</span><span class="other">)</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="43" xml:space="preserve"><span class="lineNumber">43</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">}</span></span>
  <br/>
  <span class="code" id="44" xml:space="preserve"><span class="lineNumber">44</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">private</span>&nbsp;<span class="kw">void</span>&nbsp;<a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html#member_function_Tick_Clock_FD687E6CF202BDB1FF6FC14F3C0A2E9CAED704F8">Tick</a><span class="other">(</span><span class="other">)</span></span>
  <br/>
  <span class="code" id="45" xml:space="preserve"><span class="lineNumber">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">{</span></span>
  <br/>
  <span class="code" id="46" xml:space="preserve"><span class="lineNumber">46</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">try</span></span>
  <br/>
  <span class="code" id="47" xml:space="preserve"><span class="lineNumber">47</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">{</span></span>
  <br/>
  <span class="code" id="48" xml:space="preserve"><span class="lineNumber">48</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">while</span>&nbsp;<span class="other">(</span><span class="other">!</span><a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html#variable_stopping_3ED00A19A5D14C9DBAD54B5FE85E32AB1324B9DA">stopping</a><span class="other">)</span></span>
  <br/>
  <span class="code" id="49" xml:space="preserve"><span class="lineNumber">49</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">{</span></span>
  <br/>
  <span class="code" id="50" xml:space="preserve"><span class="lineNumber">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../../../../../system/content/System.Base/doc/class_LockGuard_Mtx_71F3BB945476C1B401D53113AACA649C83322BA2.html">LockGuard</a><span class="other">&lt;</span><a href="../../../../../../system/content/System.Base/doc/class_RecursiveMutex_B9ED5479754BBDDED6A4491348BBD2F20F701D82.html">RecursiveMutex</a><span class="other">></span>&nbsp;<span class="identifier">lock</span><span class="other">(</span><a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html#variable_mtx_F19F59C22BE793E5C0A0830BC7AC2856D91F0ABA">mtx</a><span class="other">)</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="51" xml:space="preserve"><span class="lineNumber">51</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../../../../../system/content/System.Base/doc/enumerated_type_ConditionVariableStatus_996DE378267835377931621DD371B1C5CBA8C822.html">ConditionVariableStatus</a>&nbsp;<span class="identifier">status</span><span class="other">&nbsp;=&nbsp;</span><a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html#variable_stop_E501BB686FFF0D23338544597E1A22D4A64A01F1">stop</a><span class="other">.</span><a href="../../../../../../system/content/System.Base/doc/class_ConditionVariable_019A80625043CF98EC88D8F55238C84CFD4A9C26.html#member_function_WaitFor_ConditionVariable_CB27D528634A9ED2D5FDFCDC23208F28842EC142">WaitFor</a><span class="other">(</span><a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html#variable_mtx_F19F59C22BE793E5C0A0830BC7AC2856D91F0ABA">mtx</a><span class="other">,&nbsp;</span><a href="../../../../../../system/content/System.Base/doc/class_Duration_78813FE475939D533DB7A63066BE3D8FEB436151.html">Duration</a><span class="other">.</span><a href="../../../../../../system/content/System.Base/doc/class_Duration_78813FE475939D533DB7A63066BE3D8FEB436151.html#member_function_FromMilliseconds_Duration_54BFF5BC1A910C530A18F6CB6728966DCDF9C9A5">FromMilliseconds</a><span class="other">(</span><a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html#constant_tick_D290B4B90496A70F8575715C82AE1D33CA229C74">tick</a><span class="other">)</span><span class="other">)</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="52" xml:space="preserve"><span class="lineNumber">52</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">if</span>&nbsp;<span class="other">(</span><span class="identifier">status</span><span class="other">&nbsp;==&nbsp;</span><a href="../../../../../../system/content/System.Base/doc/enumerated_type_ConditionVariableStatus_996DE378267835377931621DD371B1C5CBA8C822.html">ConditionVariableStatus</a><span class="other">.</span><a href="../../../../../../system/content/System.Base/doc/enumerated_type_ConditionVariableStatus_996DE378267835377931621DD371B1C5CBA8C822.html#enumeration_constant_timeout_BAECAFBC7637569DF0D0F124492D003CFAC0CAA9">timeout</a><span class="other">)</span></span>
  <br/>
  <span class="code" id="53" xml:space="preserve"><span class="lineNumber">53</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">{</span></span>
  <br/>
  <span class="code" id="54" xml:space="preserve"><span class="lineNumber">54</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">ulong</span>&nbsp;<span class="identifier">rq</span><span class="other">&nbsp;=&nbsp;</span><a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html#variable_machine_62E8585429679C4BE798EB4F1D03B3EA72EB06A5">machine</a><span class="other">.</span><a href="../doc/class_Machine_F7663CCABD183952965566D1944B82FAFEDE0822.html#member_function_GetRegisters_Machine_F84F31E6931D72E20C37BE170B31E43259ADD7B3">GetRegisters</a><span class="other">(</span><span class="other">)</span><span class="other">.</span><a href="../doc/class_Registers_C454B634EBC16B04713098024D17633A35E20066.html#member_function_GetSpecial_Registers_EDB147843345ECF745F0DA56B5B393C19C217A8F">GetSpecial</a><span class="other">(</span><a href="../doc/class_Registers_C454B634EBC16B04713098024D17633A35E20066.html">Registers</a><span class="other">.</span><a href="../doc/class_Registers_C454B634EBC16B04713098024D17633A35E20066.html#constant_rQ_6F612ADD162370DC1027651B0598CC70B9726445">rQ</a><span class="other">)</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="55" xml:space="preserve"><span class="lineNumber">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="identifier">rq</span><span class="other">&nbsp;=&nbsp;</span><span class="identifier">rq</span><span class="other">&nbsp;|&nbsp;</span><a href="../doc/ns_cmsx.machine.html#constant_CLOCK_BIT_62B1EE84B4E2F589698C67D73D476906C47DED31">CLOCK_BIT</a><span class="other">;</span></span>
  <br/>
  <span class="code" id="56" xml:space="preserve"><span class="lineNumber">56</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html#variable_machine_62E8585429679C4BE798EB4F1D03B3EA72EB06A5">machine</a><span class="other">.</span><a href="../doc/class_Machine_F7663CCABD183952965566D1944B82FAFEDE0822.html#member_function_GetRegisters_Machine_F84F31E6931D72E20C37BE170B31E43259ADD7B3">GetRegisters</a><span class="other">(</span><span class="other">)</span><span class="other">.</span><a href="../doc/class_Registers_C454B634EBC16B04713098024D17633A35E20066.html#member_function_SetSpecial_Registers_635D4C817B9C28E5233C48326A31CFBECB59837B">SetSpecial</a><span class="other">(</span><a href="../doc/class_Registers_C454B634EBC16B04713098024D17633A35E20066.html">Registers</a><span class="other">.</span><a href="../doc/class_Registers_C454B634EBC16B04713098024D17633A35E20066.html#constant_rQ_6F612ADD162370DC1027651B0598CC70B9726445">rQ</a><span class="other">,&nbsp;</span><span class="identifier">rq</span><span class="other">)</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="57" xml:space="preserve"><span class="lineNumber">57</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">}</span></span>
  <br/>
  <span class="code" id="58" xml:space="preserve"><span class="lineNumber">58</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">}</span></span>
  <br/>
  <span class="code" id="59" xml:space="preserve"><span class="lineNumber">59</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">}</span></span>
  <br/>
  <span class="code" id="60" xml:space="preserve"><span class="lineNumber">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">catch</span>&nbsp;<span class="other">(</span><span class="kw">const</span>&nbsp;<a href="../../../../../../system/content/System.Base/doc/class_Exception_02AEA5204AD1035A91C2D843597EACBE078C8989.html">Exception</a><span class="other">&amp;</span>&nbsp;<span class="identifier">ex</span><span class="other">)</span></span>
  <br/>
  <span class="code" id="61" xml:space="preserve"><span class="lineNumber">61</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">{</span></span>
  <br/>
  <span class="code" id="62" xml:space="preserve"><span class="lineNumber">62</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="identifier">Console</span><span class="other">.</span><span class="identifier">Error</span><span class="other">(</span><span class="other">)</span><span class="other">&nbsp;&lt;&lt;&nbsp;</span><span class="string">"clock:&nbsp;"</span><span class="other">&nbsp;&lt;&lt;&nbsp;</span><span class="identifier">ex</span><span class="other">.</span><span class="identifier">ToString</span><span class="other">(</span><span class="other">)</span><span class="other">&nbsp;&lt;&lt;&nbsp;</span><span class="identifier">endl</span><span class="other">(</span><span class="other">)</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="63" xml:space="preserve"><span class="lineNumber">63</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">}</span></span>
  <br/>
  <span class="code" id="64" xml:space="preserve"><span class="lineNumber">64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">}</span></span>
  <br/>
  <span class="code" id="65" xml:space="preserve"><span class="lineNumber">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">private</span>&nbsp;<span class="kw">static</span>&nbsp;<a href="../../../../../../system/content/System.Base/doc/class_UniquePtr_T_793F841C13E9DD3A6869243C74F1D948C0E04009.html">UniquePtr</a><span class="other">&lt;</span><a href="../doc/class_Clock_BC55A502BF5630C3F97A8D8761148EEF21C20D8F.html">Clock</a><span class="other">></span>&nbsp;<span class="identifier">instance</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="66" xml:space="preserve"><span class="lineNumber">66</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">private</span>&nbsp;<a href="../doc/class_Machine_F7663CCABD183952965566D1944B82FAFEDE0822.html">Machine</a><span class="other">&amp;</span>&nbsp;<span class="identifier">machine</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="67" xml:space="preserve"><span class="lineNumber">67</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">private</span>&nbsp;<a href="../../../../../../system/content/System.Base/doc/class_RecursiveMutex_B9ED5479754BBDDED6A4491348BBD2F20F701D82.html">RecursiveMutex</a>&nbsp;<span class="identifier">mtx</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="68" xml:space="preserve"><span class="lineNumber">68</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">private</span>&nbsp;<a href="../../../../../../system/content/System.Base/doc/class_ConditionVariable_019A80625043CF98EC88D8F55238C84CFD4A9C26.html">ConditionVariable</a>&nbsp;<span class="identifier">stop</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="69" xml:space="preserve"><span class="lineNumber">69</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">private</span>&nbsp;<a href="../../../../../../system/content/System.Base/doc/class_Thread_805238682CDC09B4D1BB5C11ACA935F47C73BA4F.html">Thread</a>&nbsp;<span class="identifier">thread</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="70" xml:space="preserve"><span class="lineNumber">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">private</span>&nbsp;<span class="kw">bool</span>&nbsp;<span class="identifier">stopping</span><span class="other">;</span></span>
  <br/>
  <span class="code" id="71" xml:space="preserve"><span class="lineNumber">71</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">}</span></span>
  <br/>
  <span class="code" id="72" xml:space="preserve"><span class="lineNumber">72</span>&nbsp;<span class="other">}</span></span>
  <br/>
 </body>
</html>
