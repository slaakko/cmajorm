using System;
using System.Collections;
using System.Security;
using cmsh;

void ProcessLine(const ustring& line)
{
    Users users = GetUsers();
    string home = "/home/slaakko";
    HashMap<ustring, ustring> variables;
    variables[u"HOME"] = u"/home/slaakko";
    variables[u"FOO"] = u"foo bar";
    TokenizerFlags flags = TokenizerFlags.none;
    List<Token> tokens = Tokenize(line, flags);
    PrintTokens(tokens);
    Expand(tokens, home, users, variables, flags);
    PrintTokens(tokens);
}

void main()
{
    ProcessLine(u"*");
}
