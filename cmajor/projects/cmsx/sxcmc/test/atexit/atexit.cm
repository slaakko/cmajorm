using System;

class Foo
{
    static Foo() : instance(new Foo())
    {
    }
    public static Foo& Instance()
    {
        return *instance;
    }
    public Foo()
    {
        Console.WriteLine("foo");
    }
    public ~Foo()
    {
        Console.WriteLine("~foo");
    }
    private static UniquePtr<Foo> instance;
}

void main()
{
    Foo& foo = Foo.Instance();
}